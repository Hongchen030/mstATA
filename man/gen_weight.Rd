% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gen_weight.R
\name{gen_weight}
\alias{gen_weight}
\title{Generate population weights over a specified ability grid}
\usage{
gen_weight(
  theta = seq(-5, 5, 0.1),
  dist = "norm",
  params = list(mean = 0, sd = 1),
  components = NULL,
  empirical_theta = NULL
)
}
\arguments{
\item{theta}{Optional numeric vector specifying the ability grid at which the
population distribution is evaluated. Default is \code{seq(-5,5,0.1)}.}

\item{dist}{Character string specifying the distribution family:
one of \code{"norm"}, \code{"t"}, \code{"logis"}, \code{"unif"}, \code{"beta"},
\code{"gamma"}, \code{"lnorm"}, \code{"mixture"}, \code{"empirical"}. Default is \code{"norm"}.}

\item{params}{List of parameters for the named distribution (when \code{dist} is not
\code{"mixture"}, \code{"empirical"}). For example,
\code{list(mean = 0, sd = 1)} for \code{"norm"}, \code{list(df = 5)} for \code{"t"},
\code{list(location = 0, scale = 1)} for \code{"logis"}. Default is \code{list(mean = 0, sd = 1)}.}

\item{components}{For \code{dist = "mixture"}: a list of components, each like
\code{list(dist = "norm", params = list(mean = 0, sd = 1), weight = 0.7)}.
Component weights are rescaled to sum to 1 if needed.}

\item{empirical_theta}{For \code{dist = "empirical"}: numeric sample theta values used to build a KDE.}
}
\value{
A dataframe with:
\describe{
\item{\code{theta}}{The supplied ability grid.}
\item{\code{w}}{Normalized weights, \code{sum(w) == 1}.}
}
}
\description{
Computes normalized weights on a user-specified ability grid \code{theta} based on a chosen population distribution.
The function evaluates the specified density at each grid point and rescales the resulting values so that the weights sum to 1.
The output provides a discrete approximation of the population ability distribution and can be used for marginal
summaries in analytic classification accuracy or precision evaluation.

Supports:
\itemize{
\item Named base-R distributions via their densities (e.g., \code{"norm"}, \code{"t"}, \code{"logis"}, \code{"unif"}, \code{"beta"}, \code{"gamma"}, \code{"lnorm"}, â€¦)
\item Finite \strong{mixtures} of named distributions
\item \strong{Empirical} distributions via Gaussian-kernel KDE
}

Weights are normalized so that \code{sum(w) == 1}. Use them to approximate expectations:
\deqn{\mathbb{E}[f(\theta)] \approx \sum_i w_i f(\theta_i).}
}
\examples{
## Standard normal population on a custom grid
theta <- seq(-3, 3, by = 0.2)
gen_weight(theta,dist = "norm")

## Normal population with custom parameters
gen_weight(
  theta,
  dist = "norm",
  params = list(mean = -0.5, sd = 1.2)
)

## Empirical population via KDE
gen_weight(
  theta,
  dist = "empirical",
  empirical_theta = rnorm(1000)
)

## Two-component mixture distribution
gen_weight(
  theta,
  dist = "mixture",
  components = list(
    list(dist = "norm", params = list(mean = -1, sd = 0.8), weight = 0.4),
    list(dist = "norm", params = list(mean =  1, sd = 0.8), weight = 0.6)
  )
)

}
