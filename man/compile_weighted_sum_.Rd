% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-helper_compile_weighted_sum_.R
\name{compile_weighted_sum_}
\alias{compile_weighted_sum_}
\title{Compile a Weighted-Sum Objective}
\usage{
compile_weighted_sum_(
  x,
  obj_set,
  strategy = "weighted_sum",
  strategy_args = list()
)
}
\arguments{
\item{x}{An object of class \code{mstATA_design} created by \code{mst_design()}.}

\item{obj_set}{A list containing \strong{two or more} objective components.
Each element must be either:
\describe{
\item{An objective term}{created using \code{objective_term()}.}
\item{A compiled objective}{produced by a multi-objective formulation
such as \code{maximin_obj()}, \code{capped_maximin_obj()},
\code{minimax_obj()}, or \code{goal_programming_obj()}.}
}
Each element may represent either a relative or an absolute objective.
The weighted aggregation respects the optimization sense (maximize or
minimize) specified within each objective term or compiled objective.}

\item{strategy}{A character string specifying the optimization strategy.
Currently, only \code{"weighted_sum"} is supported.}

\item{strategy_args}{A list of strategy-specific arguments. For the \code{"weighted_sum"}
strategy, \code{strategy_args} must be either an empty list or
\code{list(weights = weights)}. The \code{weights} must be a positive
numeric vector of length \code{length(obj_set)}. If not provided,
\code{weights} defaults to \code{rep(1, length(obj_set))}.}
}
\value{
A list of class \code{"compiled_objective"}
\describe{
\item{name}{A character vector indicating the specifications in each row of \code{A_binary}}
\item{specification}{A \code{data.frame} summarizing the constraint specification, including
the requirement name, attribute, constraint type, application level,
operator, and the number of constraint rows generated.}
\item{A_binary}{Sparse matrix of coefficients for binary decision variables.}
\item{A_real}{Sparse matrix of coefficients for real decision variables.}
\item{operators}{A character vector of constraint operators, one per row of \code{A_binary}.}
\item{d}{A numeric vector of right-hand-side values for the constraints.}
\item{C_binary}{Penalty vector for binary variables (if any)}
\item{C_real}{Penalty vector for real variables (if any)}
\item{sense}{"min" or "max"}
\item{decisionvar_name_new}{Character vector indicating the names of new decision variables, same length as \code{ncol(A_real)}.}
\item{decisionvar_type_new}{A character vector of \code{"C"} (continuous), same length as \code{ncol(A_real)}.}
\item{notes}{List of metadata.}
}
}
\description{
This function compiles a \strong{weighted-sum objective} when multiple objective
components are present. Each component contributes a linear score, and the
solver optimizes a weighted linear combination of these scores.

The weighted-sum strategy is the simplest and most flexible multi-objective
formulation. It is appropriate when objective components are commensurate
(i.e., comparable in scale) or when weights can be meaningfully justified
based on operational priorities. It is also the only strategy that allows
combining multiple compiled objectives produced by other multi-objective
formulations (e.g., maximin, capped maximin, minimax, or goal programming)
into a single final objective.

Under this strategy, multiple linear objective components are aggregated
into one objective function by forming a weighted linear combination.
}
\details{
\strong{Optimization Form}

Let there be K objective terms, each defined as a linear score

\deqn{
  y_k = a_k^\top x, \quad k = 1, \ldots, K,
}

where \eqn{a_k} is the coefficient vector constructed by
\code{objective_term()}, and x denotes the item–module–panel
decision variables.

The weighted-sum objective optimizes:

\deqn{
  \min \; \sum_{k=1}^K w_k \, y_k
  \quad \text{or} \quad
  \max \; \sum_{k=1}^K w_k \, y_k,
}

where \eqn{w_k > 0} are user-specified or default weights.

\strong{Interpretation}

This strategy is appropriate when:
\itemize{
\item All objective terms can be meaningfully combined on a common scale, and
\item The test developer is willing to trade off performance across multiple
objectives using explicit weights.
}

The weighted-sum approach reduces a multi-objective optimization problem
to a single linear objective that can be handled directly by standard
mixed-integer solvers.

This function is automatically invoked by \code{compile_objective()}
when \code{strategy = "weighted_sum"}.
}
\keyword{internal}
