% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_panel_tcc.R
\name{plot_panel_tcc}
\alias{plot_panel_tcc}
\title{Plot Test Category Probability Curves}
\usage{
plot_panel_tcc(
  assembled_panel,
  item_par_cols,
  model_col,
  D = 1,
  theta = seq(-5, 5, 0.1),
  unit = "module",
  mode = "within_panel",
  legend = TRUE
)
}
\arguments{
\item{assembled_panel}{A \code{"mstATA_panel"} object returned by
\code{\link{assembled_panel}}. All panels must share identical module and
pathway structure.}

\item{item_par_cols}{A named list defining the IRT parameter columns
required for each supported model. The list names must exactly match
the model identifiers specified in \code{items[[model_col]]}:
\code{"1PL"}, \code{"RASCH"}, \code{"2PL"}, \code{"3PL"},
\code{"4PL"}, \code{"GRM"}, \code{"MGRM"}, \code{"PCM"},
\code{"GPCM"}, \code{"RSM"}, and \code{"NRM"}.
Each list element is a character vector giving the column names
that contain the required item parameters for
the corresponding model.}

\item{model_col}{A character string specifying the column name in
either \code{ItemsInModules} or \code{ItemsInPathways} data frames
that indicates the IRT model used for each item.
Values in this column must correspond to one of the supported
model names:
\code{"1PL"}, \code{"RASCH"}, \code{"2PL"}, \code{"3PL"},
\code{"4PL"}, \code{"GRM"}, \code{"MGRM"}, \code{"PCM"},
\code{"GPCM"}, \code{"RSM"}, or \code{"NRM"}.}

\item{D}{Scaling constant used in the IRT model. Default is D=1 (for logistic metric);
D=1.702 yields approximately the normal metric.}

\item{theta}{A numeric vector of ability values. Default is \code{seq(-5,5,0,1)}.}

\item{unit}{The aggregation unit to display. Must be either
\code{"module"} or \code{"pathway"}.}

\item{mode}{Plotting mode for multi-panel results. Must be either
\code{"within_panel"} or \code{"across_panel"}. Default is "within_panel".}

\item{legend}{Logical; whether to display the legend (default is TRUE).}
}
\value{
A \code{ggplot} object.
}
\description{
Plots category probability curves aggregated at the module or pathway
level based on the output of \code{report_test_tcc()}.

The function supports both single-panel and multi-panel visualization
and automatically adjusts color and faceting to facilitate meaningful
comparisons across modules, pathways, and panels.
}
\details{
For a single panel, category probability curves are colored by module
or pathway.

For multiple panels, two visualization modes are supported:
\itemize{
\item \code{"within_panel"}: curves are colored by module or pathway
and faceted by panel.
\item \code{"across_panel"}: curves are colored by panel and faceted
by module or pathway.
}

For dichotomously-scored items (two response categories), only the
probability curve for the correct-response category (\code{cat1}) is
displayed.

For polytomously-scored items (more than two response categories),
probability curves for all response categories are displayed.

Category probability curves represent the average probability of each
response category across items within the selected module or pathway
at each ability value.
}
\seealso{
\code{\link[=report_test_tcc]{report_test_tcc()}}
}
