% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-helper_compute_joint_score_support.R
\name{compute_joint_score_support}
\alias{compute_joint_score_support}
\title{Compute Joint Score Support Under MST Routing}
\usage{
compute_joint_score_support(prev_scores, next_mod_max_score, lower, upper)
}
\arguments{
\item{prev_scores}{Integer vector giving all possible cumulative scores
at the previous stage \eqn{S_{1:s-1}} (typically \code{0:max_score}).}

\item{next_mod_max_score}{Non-negative integer giving the maximum possible
score on the next-stage module \eqn{S_s}. All integer scores from 0 to
\code{next_mod_max_score} are attainable.}

\item{lower}{Numeric vector of lower routing bounds. An examinee is routed
to branch \eqn{j} if \code{prev_score > lower[j]}.}

\item{upper}{Numeric vector of upper routing bounds. An examinee is routed
to branch \eqn{j} if \code{prev_score <= upper[j]}.}
}
\value{
A list of integer vectors. Each element corresponds to one routing branch
and contains the possible joint score values for examinees routed to that
branch.
}
\description{
Computes the set of possible joint (cumulative) number-correct scores
for examinees routed to each next-stage module in a multistage test (MST),
given the routing cut scores and the maximum score of the next module.
}
\details{
This helper separates \strong{score-support bookkeeping} from probability
computation. For each routing branch, it determines which joint scores
\eqn{S_{1:s} = S_{1:s-1} + S_s} are \emph{theoretically attainable}, independent
of the ability level \eqn{\theta}. Unreachable score points are excluded
from the support and are later assigned probability zero.

For each routing branch \eqn{j}, the function:
\enumerate{
\item Selects the subset of \code{prev_scores} satisfying the routing rule
\eqn{lower_j < S_{1:s-1} \le upper_j}.
\item Forms all possible joint scores by adding
\eqn{S_s \in \{0, \dots, \text{next\_mod\_max\_score}\}}.
\item Returns the sorted, unique joint score support for that branch.
}

If no previous scores satisfy a routing branch, the corresponding support
is returned as an empty integer vector.
}
\keyword{internal}
