% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/solve_model.R
\name{solve_model}
\alias{solve_model}
\title{Solve an ATA Model Using a Mathematical Programming Solver}
\usage{
solve_model(
  model_spec,
  continuous_bound_source = "compiled",
  continuous_bounds = NULL,
  solver = c("gurobi", "lpsolve", "HiGHS", "Symphony", "GLPK"),
  time_limit = 99999,
  check_feasibility = FALSE,
  show_progress = FALSE
)
}
\arguments{
\item{model_spec}{An assembly model specification of class
\code{"mstATA_model"}, created by \code{onepanel_spec()} or
\code{multipanel_spec()}.}

\item{continuous_bound_source}{Character string specifying how lower and
upper bounds for continuous decision variables are determined.
Must be one of \code{"compiled"}, \code{"user"}, or \code{"none"}.
\describe{
\item{\code{"compiled"}}{Use bounds derived from compiled objective
functions.}
\item{\code{"user"}}{Use user-specified bounds provided through
\code{continuous_bounds}.}
\item{\code{"none"}}{Do not impose explicit bounds on continuous
variables; lower and upper bounds are set to \eqn{-\infty} and
\eqn{\infty}, respectively.}
}
The default is \code{"compiled"}.}

\item{continuous_bounds}{A named list specifying user-defined bounds for
continuous decision variables when
\code{continuous_bound_source = "user"}.
The list must contain two numeric vectors:
\describe{
\item{\code{lb}}{Lower bounds for continuous variables.}
\item{\code{ub}}{Upper bounds for continuous variables.}
}
The length of each vector must equal the number of continuous variables (not slack variables)
in the model. Each element of \code{lb} must be less than or equal to the
corresponding element of \code{ub}. This argument must be \code{NULL}
when \code{continuous_bound_source} is \code{"compiled"} or
\code{"none"}.}

\item{solver}{A character string indicating which solver to use.
One of \code{"gurobi"}, \code{"lpsolve"}, \code{"HiGHS"},
\code{"Symphony"}, or \code{"GLPK"}.}

\item{time_limit}{The maximum amount of computation time allocated to the solver.
Default is 99999 seconds.}

\item{check_feasibility}{Logical. Default is \code{FALSE}. If \code{TRUE} and
the HiGHS package is available, HiGHS is used to check whether the model
is infeasible or unbounded before running the requested solver.
If HiGHS certifies the model as
\code{"INFEASIBLE"} or \code{"UNBOUNDED"}, the solving process terminates
early and the result is returned immediately. If HiGHS does not certify
feasibility within the time limit, the specified solver is invoked.
This pre-check is purely diagnostic and does not affect the final solution
when the model is feasible.}

\item{show_progress}{Logical. Whether to display solver progress information (e.g., incumbent
solutions, node counts, and optimality gap) during optimization. Note that the level of
detail depends on the underlying solver. Default is \code{FALSE}.}
}
\value{
A list with the following components:
\describe{
\item{solution}{A list containing the solver results with the
following elements:
\describe{
\item{solution_found}{A character string indicating the solver status
(e.g., \code{"OPTIMAL"}, \code{"FEASIBLE"}, or \code{"INFEASIBLE"},
or \code{"UNBOUNDED"} or \code{"TIME_LIMIT"} or \code{"OTHER"}).}
\item{best_solution}{A numeric vector of decision variable values
corresponding to the best solution found.}
\item{objval}{The objective function value associated with
\code{best_solution}.}
\item{solution_list}{Either \code{NULL} or a list of optimal solutions.
If multiple optimal solutions exist, only the \code{"gurobi"} solver
may return more than one solution.}
\item{check}{Either \code{NULL} or a data frame summarizing constraint
evaluation at the solution, including left-hand side values,
constraint operators, right-hand side values, and residual values.}
\item{runtime}{The total runtime of the solver in seconds.}
\item{iis}{If \code{solver = "gurobi"} and
model is infeasible, an irreducible inconsistent subsystem (IIS) will also be returned.
It should be mentioned that an infeasible model may have multiple IISs.
The one returned by Gurobi is not necessarily the smallest one;
there may exist others with fewer constraints or bounds.}
}
}
\item{model}{An object of class \code{"mstATA_model"} representing the
MILP formulation used by the solver. This includes the constraint
matrix \code{A}, right-hand side \code{rhs}, constraint senses,
objective coefficients, bounds, variable types, variable names,
model sense, and row names.}
\item{solver}{A character string indicating the solver used (as requested
by \code{solver}).}
}
}
\description{
Solves an automated test assembly (ATA) model in the mstATA
framework. The input model specification is optionally presolved
to remove redundant rows and columns, checked for feasibility, and then
solved using the requested solver.
}
\details{
The feasibility pre-check is designed to save computation time in large
or complex ATA models, especially when commercial solvers (e.g., Gurobi)
are unavailable. HiGHS is used as a fast certifier with a short time limit;
certification of infeasibility or unboundedness is guaranteed, whereas
failure to certify feasibility does not imply infeasibility.
}
