% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-helper_compile_minimax_.R
\name{compile_minimax_}
\alias{compile_minimax_}
\title{Compile a Minimax Objective}
\usage{
compile_minimax_(x, obj_set, strategy = "minimax", strategy_args = list())
}
\arguments{
\item{x}{An object of class \code{mstATA_design} created by \code{mst_design()}.}

\item{obj_set}{A list containing multiple \code{objective_term()}
object. The function will throw an error if the list does not have
length greater than 1. Each term must be a \emph{absolute} objective (i.e., with goal values).}

\item{strategy}{A character string specifying the optimization strategy.
Currently, only \code{"minimax"} is supported.}

\item{strategy_args}{A list of strategy-specific arguments. For the \code{"minimax"}
strategy, \code{strategy_args} must be either an empty list or
\code{list(mode = mode)}. The argument \code{mode} must
be either \code{"one_dev"} or \code{"two_dev"}. If not provided, \code{"one_dev"}.}
}
\value{
A list of class \code{"compiled_objective"}
\describe{
\item{name}{A character vector indicating the specifications in each row of \code{A_binary}}
\item{specification}{A \code{data.frame} summarizing the constraint specification, including
the requirement name, attribute, constraint type, application level,
operator, and the number of constraint rows generated.}
\item{A_binary}{Sparse matrix of coefficients for binary decision variables.}
\item{A_real}{Sparse matrix of coefficients for real decision variables.}
\item{operators}{A character vector of constraint operators, one per row of \code{A_binary}.}
\item{d}{A numeric vector of right-hand-side values for the constraints.}
\item{C_binary}{Penalty vector for binary variables (if any)}
\item{C_real}{Penalty vector for real variables (if any)}
\item{sense}{Always \code{"min"} for the minimax strategy.}
\item{decisionvar_name_new}{Character vector indicating the names of new decision variables, same length as \code{ncol(A_real)}.}
\item{decisionvar_type_new}{A character vector of \code{"C"} (continuous), same length as \code{ncol(A_real)}.}
\item{notes}{A list containing the strategy name, strategy arguments, and \code{y_bounds}.}
}
}
\description{
Constructs the compiled objective structure for the \strong{minimax} strategy,
which minimizes the \emph{worst-case deviation} from target values across
multiple objective terms.

The minimax strategy seeks a solution that balances objectives by controlling
the largest absolute mismatch between each linear score \eqn{a_k^\top x}
and its target value \eqn{g_k}.

This function is automatically invoked by \code{compile_objective()} when
\code{strategy = "minimax"}.
}
\details{
\strong{1. Overview}

Let there be \eqn{K} objective terms, each defined as a linear score

\deqn{
  y_k = a_k^\top x, \quad k = 1, \ldots, K,
}

where \eqn{a_k} is the coefficient vector constructed by
\code{objective_term()}, and \eqn{x} denotes the vector of
item–module–panel decision variables.

Each objective term has a user-specified target value \eqn{g_k}.

The minimax strategy minimizes the maximum deviation from these targets,
producing a solution that controls the worst-performing objective.

Two deviation modes are supported:

\itemize{
\item \strong{One-deviation mode} (\code{mode = "one_dev"}):
Introduces a common non-negative deviation variable \eqn{d \ge 0} such that
\deqn{
    |a_k^\top x - g_k| \le d.
  }

\item \strong{Two-deviation mode} (\code{mode = "two_dev"}):
Introduces separate positive and negative deviations
\eqn{d^+ \ge 0} and \eqn{d^- \ge 0}, with
\deqn{
    a_k^\top x - g_k = d^+ - d^-.
  }
}

\strong{2. Optimization Form}

Introduce one/two continuous auxiliary variable \eqn{d} or \eqn{d^+,d^-} representing the
\strong{maximum deviation} across all objective terms. The optimization problem is:

\deqn{
  \min \; d
}

or

\deqn{
  \min \; d^+ + d^-
}

subject to:

\strong{one_dev}

\deqn{
  |a_k^\top x - g_k| \le d, \quad k = 1, \ldots, K.
}

\strong{two_dev}

\deqn{
  a_k^\top x + d^- \le  g_k , \quad k = 1, \ldots, K.

  a_k^\top x -d^+  \le g_k, \quad k = 1, \ldots, K.
}
}
\keyword{internal}
